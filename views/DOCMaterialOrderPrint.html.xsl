<?xml version="1.0" encoding="UTF-8"?><xsl:stylesheet version="1.0"  xmlns:html="http://www.w3.org/TR/REC-html40" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:fo="http://www.w3.org/1999/XSL/Format"><xsl:output method="html"/> <!-- Main template--><xsl:template match="/">	<xsl:choose>		<xsl:when test="not(document/model[@id='ModelServResponse']/row[1]/result='0')">		<xsl:apply-templates select="document/model[@id='ModelServResponse']"/>			</xsl:when>		<xsl:otherwise>			<xsl:apply-templates select="document/model[@id='head']"/>			</xsl:otherwise>	</xsl:choose></xsl:template><!-- Error --><xsl:template match="model[@id='ModelServResponse']">	<div class="error">		<xsl:value-of select="row[1]/descr"/>	</div></xsl:template><xsl:template match="model[@id='head']"><h2>Заказ материалов №<xsl:value-of select="row/number"/> от <xsl:value-of select="row/date_time_descr"/></h2><table cellspacing="0" cellpadding="0" style="border:none;">	<tr>		<td>Салон:</td>		<td><xsl:value-of select="row/store_descr"/></td>	</tr>	<tr>		<td>Автор:</td>		<td><xsl:value-of select="row/user_descr"/></td>	</tr>		</table><xsl:apply-templates select="/document/model[@id='materials']"/></xsl:template><xsl:template match="model[@id='materials']"><br></br><table class="for_print">	<thead>		<tr>			<th>№</th>			<th>Материал</th>			<th>Кол-во</th>		</tr>	</thead>	<tbody>	<xsl:apply-templates select="row"/>		</tbody></table></xsl:template><xsl:template match="model[@id='materials']/row">	<tr>		<td><xsl:value-of select="line_number"/></td>		<td><xsl:value-of select="material_descr"/></td>		<td><xsl:value-of select="quant"/></td>	</tr></xsl:template></xsl:stylesheet>